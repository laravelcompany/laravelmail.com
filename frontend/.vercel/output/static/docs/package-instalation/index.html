<!DOCTYPE html><html dir=ltr lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="ie=edge" http-equiv=X-UA-Compatible><link href=/favicon.svg rel=icon type=image/svg+xml><meta charset=utf-8><meta content="index, follow" name=robots><meta content="index, follow" name=googlebot><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Astro v4.16.18" name=generator><link href=http://localhost:4321/docs/package-instalation/ rel=canonical><link href=/favicon.svg rel="shortcut icon" type=image/svg+xml><title>Learn how to use Laravel Mail Platform | Package Installation | laravelmail.comPackage Installation</title><meta content="Learn how to use Laravel Mail Platform |  Package Installation |  laravelmail.comPackage Installation" name=title><meta content="Community inspired Email Marketing Platform for your Laravel application. Reduce your marketing costs and focus on your business." name=description><meta content=website property=og:type><meta content=http://localhost:4321/docs/package-instalation/ property=og:url><meta content="Learn how to use Laravel Mail Platform |  Package Installation |  laravelmail.comPackage Installation" property=og:title><meta content="Community inspired Email Marketing Platform for your Laravel application. Reduce your marketing costs and focus on your business." property=og:description><meta content=http://localhost:4321/docs/package-instalation/og-image.jpg property=og:image><meta content=summary_large_image property=twitter:card><meta content=http://localhost:4321/docs/package-instalation/ property=twitter:url><meta content="Learn how to use Laravel Mail Platform |  Package Installation |  laravelmail.comPackage Installation" property=twitter:title><meta content="Community inspired Email Marketing Platform for your Laravel application. Reduce your marketing costs and focus on your business." property=twitter:description><meta content=http://localhost:4321/docs/package-instalation/og-image.jpg property=twitter:image><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><link href=/_astro/buy.ClSWA6NE.css rel=stylesheet><style>:root{--radius-small:3px;--radius-large:6px;--gap-default:2rem;--font-measure:70ch;--font-family-default:"Open Sans",sans-serif;--font-family-special:"Open Sans",sans-serif;--font-color:var(--neutral-900);--action-color:var(--primary-300);--action-color-state:var(--primary-500);--background:var(--neutral-100);--primary-background:var(--primary-100);--neutral-background:var(--neutral-200)}.darkmode{--font-color:var(--neutral-100);--action-color:var(--secondary-100);--action-color-state:var(--secondary-500);--background:var(--dark-100);--primary-background:var(--primary-500);--neutral-background:var(--neutral-900)}body,html{height:100%;overflow-x:hidden}body{display:flex;flex-direction:column;color:var(--font-color);background-color:var(--background)}body main{flex:1 0 auto}body footer{flex-shrink:0}pre{padding:1rem;border-radius:.35rem;border:2px solid var(--action-color)}body .pagination a:focus-visible,body .pagination a:hover{background-color:var(--action-color-state)}body .pagination a:focus-visible svg path,body .pagination a:hover svg path{stroke:#fff}</style><script src=/_astro/hoisted.P4LudxNV.js type=module></script></head><body><script src="https://www.googletagmanager.com/gtag/js?id=G-V4RXY7MZHW" async></script><header><div class=skip-links><a href=#main-content>Skip to main content</a></div><script type=module>const skipLink=document.querySelector(".skip-links a");skipLink.addEventListener("keydown",(e=>{if(!e.target.closest("a"))return;if("Enter"!==e.key)return;e.preventDefault();const t=e.target.getAttribute("href");if(document.querySelector(t)){const e=document.querySelector(t);e.setAttribute("tabindex","-1"),e.focus()}else if(!document.querySelector(t)&&document.querySelector("h1")){const e=document.querySelector("h1");e.setAttribute("tabindex","-1"),e.focus()}else console.warn("SkipLinks are not set, either missing an h1 or main content id on the page.")}))</script><div class="is-desktop py-8" id=main-navigation><div class=container><a href=/ class="flex !no-underline gap-2 items-center" title="Laravel Mail"><span class=font-bold><h1>Laravel Mail</h1></span></a><div class=wrapper><nav aria-label="Main navigation desktop" class=desktop-menu><ul class=menu><li class=menu-item><a href=/ title="laravel mail platform">Home</a></li><li class=menu-item><a href=/templates title="laravel mail blade templates">Templates</a></li><li class=menu-item><a href=/docs/index title="documentation laravel mail platform">Docs</a></li><li class=menu-item><a href=/features title="features laravel mail platform">Features</a></li><li class=menu-item><a href=/try title="try laravel mail platform">Try</a></li><li class=menu-item><a href=/buy title="buy laravel mail platform">Buy</a></li><li class=menu-item><a href=/contact title="contact laravel agency essex">Contact</a></li></ul></nav><button class=darkmode-toggle aria-label="Toggle Dark Mode" aria-pressed=false data-astro-transition-persist=astro-ngeadvuk-1 data-initial-mode=auto><svg height=32 width=32 xmlns=http://www.w3.org/2000/svg aria-hidden=true viewBox="0 0 24 24"><path d="M9.353 3C5.849 4.408 3 7.463 3 11.47A9.53 9.53 0 0 0 12.53 21c4.007 0 7.062-2.849 8.47-6.353C8.17 17.065 8.14 8.14 9.353 3z" fill=currentColor></path></svg></button><script>!function(){let e=localStorage.getItem("darkMode");const a=document.querySelector(".darkmode-toggle"),t=(e=!0)=>{document.body.classList.add("darkmode"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="32" height="32" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 3a1 1 0 1 0-2 0v1a1 1 0 1 0 2 0V3zM5.707 4.293a1 1 0 0 0-1.414 1.414l1 1a1 1 0 0 0 1.414-1.414l-1-1zm14 0a1 1 0 0 0-1.414 0l-1 1a1 1 0 0 0 1.414 1.414l1-1a1 1 0 0 0 0-1.414zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm-9 4a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2H3zm17 0a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2h-1zM6.707 18.707a1 1 0 1 0-1.414-1.414l-1 1a1 1 0 1 0 1.414 1.414l1-1zm12-1.414a1 1 0 0 0-1.414 1.414l1 1a1 1 0 0 0 1.414-1.414l-1-1zM13 20a1 1 0 1 0-2 0v1a1 1 0 1 0 2 0v-1z" fill="currentColor"/></svg>',a.setAttribute("aria-pressed","true"),e&&localStorage.setItem("darkMode","enabled")},d=(e=!0)=>{document.body.classList.remove("darkmode"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M9.353 3C5.849 4.408 3 7.463 3 11.47A9.53 9.53 0 0 0 12.53 21c4.007 0 7.062-2.849 8.47-6.353C8.17 17.065 8.14 8.14 9.353 3z"/></svg>',a.setAttribute("aria-pressed","false"),e&&localStorage.setItem("darkMode","disabled")},r=()=>{e?"enabled"===e?t():d():window.matchMedia("(prefers-color-scheme: dark)").matches?t(!1):d(!1)};r(),a.addEventListener("click",(()=>{e=document.body.classList.contains("darkmode"),e?d():t()})),document.addEventListener("astro:after-swap",(()=>{e=localStorage.getItem("darkMode"),r()}))}()</script><button class=responsive-toggle aria-label="Open menu navigation" aria-expanded=false data-astro-cid-3qc6hvr2><svg height=21 width=26 xmlns=http://www.w3.org/2000/svg aria-hidden=true data-astro-cid-3qc6hvr2 fill=var(--action-color)><path d="M2 1.667h24m-24 8h24m-24 8h24" data-astro-cid-3qc6hvr2 stroke=var(--action-color) stroke-linecap=round stroke-linejoin=round stroke-width=2.667></path></svg></button></div><nav aria-label="Main navigation mobile" class=mobile-menu><ul class=menu><li class=menu-item><a href=/ title="laravel mail platform">Home</a></li><li class=menu-item><a href=/templates title="laravel mail blade templates">Templates</a></li><li class=menu-item><a href=/docs/index title="documentation laravel mail platform">Docs</a></li><li class=menu-item><a href=/features title="features laravel mail platform">Features</a></li><li class=menu-item><a href=/try title="try laravel mail platform">Try</a></li><li class=menu-item><a href=/buy title="buy laravel mail platform">Buy</a></li><li class=menu-item><a href=/contact title="contact laravel agency essex">Contact</a></li></ul></nav></div></div></header><main class="flex container flex-1 flex-col md:flex-row"><div class="py-4 sticky hidden lg:w-1/5 max-h-static_sidemenu top-[69px] md:flex md:px-6 md:w-1/4"><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).only=async t=>{await(await t())()},window.dispatchEvent(new Event("astro:only")),(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children="" client=only component-export=ScrollArea component-url=/_astro/scroll-area.CTuyje77.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:&quot;react&quot;} props="{&quot;className&quot;:[0,&quot;h-full w-full&quot;]}" renderer-url=/_astro/client.BKlK2Vbq.js ssr="" uid=Z2qmpBg><template data-astro-template><ul class="list-none m-0"><li class=w-full><a href=/docs/campaigns class="w-full leading-none no-underline text-sm font-semibold">Campaigns</a></li><li class=w-full><a href=/docs/configuration class="w-full leading-none no-underline text-sm font-semibold">Configuration</a></li><li class=w-full><a href=/docs/deployment class="w-full leading-none no-underline text-sm font-semibold">Deployment</a></li><li class=w-full><a href=/docs/email-services class="w-full leading-none no-underline text-sm font-semibold">Email Services</a></li><li class=w-full><a href=/docs/index class="w-full leading-none no-underline text-sm font-semibold">Instalation</a></li><li class=w-full><a href=/docs/messages class="w-full leading-none no-underline text-sm font-semibold">Messages</a></li><li class=w-full><a href=/docs/package-instalation class="w-full leading-none no-underline text-sm font-semibold">Package Installation</a></li><li class=w-full><a href=/docs/subscribers class="w-full leading-none no-underline text-sm font-semibold">Subscribers</a></li><li class=w-full><a href=/docs/tags class="w-full leading-none no-underline text-sm font-semibold">Tags</a></li><li class=w-full><a href=/docs/templates class="w-full leading-none no-underline text-sm font-semibold">Templates</a></li><li class=w-full><a href=/docs/workspaces class="w-full leading-none no-underline text-sm font-semibold">Workspaces</a></li></ul></template><!--astro:end--></astro-island></div><div class="w-full lg:w-3/5 md:w-3/4"><div class="pt-4 bg-background min-h-static_sidemenu px-6"><h1 class="italic pb-2">Package Installation</h1><div class="pt-4 prose"><p>This page covers the Package installation. If you want to install Laravel Mail as a stand-alone application, then head over to the <a href=/docs/installation>Installation guide</a>.</p><h2 id=requirements>Requirements</h2><ul><li>Laravel ≥ 8.3</li><li>PHP ≥ 7.3</li><li>MySQL (≥ 5.7) / PostgreSQL (≥ 9.4) or Sqlite (≥ 3.28)</li></ul><h2 id=installation>Installation</h2><p>To install Laravel Mail as a package from your command line, run the following command:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=bash style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>composer</span><span style=color:#40a02b;--shiki-dark:#A6DA95> require</span><span style=color:#40a02b;--shiki-dark:#A6DA95> laravelcompay/mail</span></span>
<span class=line></span></code></pre><p>Alternatively, you can add the following to your <code>composer.json</code> file:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=json style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#40a02b;--shiki-dark:#A6DA95>&quot;laravelcompay/mail&quot;</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>: </span><span style=color:#40a02b;--shiki-dark:#A6DA95>&quot;^0.&quot;</span></span>
<span class=line></span></code></pre><p>and then run <code>composer update</code> to install it.</p><h2 id=publish-assets>Publish Assets</h2><p>Run the following command to publish Laravel Mail’s assets:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=bash style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>php</span><span style=color:#40a02b;--shiki-dark:#A6DA95> artisan</span><span style=color:#40a02b;--shiki-dark:#A6DA95> vendor:publish</span><span style=color:#40a02b;--shiki-dark:#A6DA95> --provider=LaravelCompany</span><span style=color:#ea76cb;--shiki-dark:#F5BDE6>\\</span><span style=color:#40a02b;--shiki-dark:#A6DA95>Mail</span><span style=color:#ea76cb;--shiki-dark:#F5BDE6>\\</span><span style=color:#40a02b;--shiki-dark:#A6DA95>LaravelMailServiceProvider</span></span>
<span class=line></span></code></pre><h2 id=resolvers--routes>Resolvers &amp; Routes</h2><p>Laravel Mail’s functionality is linked to your application through the use of the <code>LaravelMail</code> facade. The following sections will detail how to use this facade to get Laravel Mail up and running inside your application.</p><blockquote><p>Please read all sections and decide on the relevancy to your use case. Some sections are marked as Required, and will need to be completed for a successful integration with Laravel Mail. Other sections are marked as Optional and may or may not be required for your own use case.</p></blockquote><h2 id=workspace-resolver-required>Workspace Resolver (Required)</h2><p>In order to support multi-tenancy, Laravel Mail requires a “Workspace ID” for the session. Even if your host application does not use multi-tenancy, you will still need to provide a “dummy” integer.</p><p>The Workspace ID will be used in both web and API sessions and will be stored to the database in the <code>workspace_id</code> column of tables like <code>campaigns</code>, <code>subscribers</code>, etc.</p><blockquote><p>Multi-tenancy is optional. If your application is not multi-tenant, or you do not wish to use Laravel Mail in a multi-tenant way, you can provide a hardcoded integer value of your choice to the resolver.</p></blockquote><h3 id=registering-the-workspace-resolver>Registering the Workspace Resolver</h3><p>Inside the <code>boot</code> method of a service provider class, provide a closure to the <code>LaravelCompany\Facades\LaravelMail::setCurrentWorkspaceIdResolver()</code> method that resolves a workspace ID.</p><p>The return value of your closure <strong>must</strong> be an integer value and <strong>must not</strong> be null.</p><p>As an example:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#179299;--shiki-dark:#8BD5CA>&lt;?</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>php</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>declare</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>strict_types</span><span style=color:#179299;--shiki-dark:#8BD5CA>=</span><span style=color:#fe640b;--shiki-dark:#F5A97F>1</span><span style=color:#7c7f93;--shiki-dark:#939AB7>);</span></span>
<span class=line></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>namespace</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic> App</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Providers</span><span style=color:#7c7f93;--shiki-dark:#939AB7>;</span></span>
<span class=line></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>use</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5> Illuminate</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>Support</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>ServiceProvider</span><span style=color:#7c7f93;--shiki-dark:#939AB7>;</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>use</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5> LaravelCompany</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>Mail</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#4c4f69;--shiki-dark:#CAD3F5>Facades</span><span style=color:#7c7f93;--shiki-dark:#939AB7>\</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Laravel</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic> Mail</span><span style=color:#7c7f93;--shiki-dark:#939AB7>;</span></span>
<span class=line></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>class</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic> AppServiceProvider</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> extends</span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic> ServiceProvider</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>{</span></span>
<span class=line><span style=color:#9ca0b0;font-style:italic;--shiki-dark:#6E738D;--shiki-dark-font-style:italic>    // …</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>    public</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> function</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic> boot</span><span style=color:#7c7f93;--shiki-dark:#939AB7>()</span><span style=color:#179299;--shiki-dark:#8BD5CA>:</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> void</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    {</span></span>
<span class=line><span style=color:#4c4f69;--shiki-dark:#CAD3F5>        Laravel </span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Mail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>setCurrentWorkspaceIdResolver</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#8839ef;--shiki-dark:#C6A0F6>function</span><span style=color:#7c7f93;--shiki-dark:#939AB7> ()</span><span style=color:#7c7f93;--shiki-dark:#939AB7> {</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>            return</span><span style=color:#fe640b;--shiki-dark:#F5A97F> 1</span><span style=color:#7c7f93;--shiki-dark:#939AB7>;</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>        });</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    }</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>}</span></span>
<span class=line></span></code></pre><h2 id=routes>Routes</h2><p>There are 4 route definitions that can be defined:</p><ul><li>Web Routes (required)</li><li>Public Web Routes (required)</li><li>Public API Routes (required)</li><li>API Routes (optional)</li></ul><p>The following routes can all be placed inside a route group, in which case any group prefixes, names, middlewares, etc, will also be applied. However, note that Laravel Mail’s route names already include <code>laravel-mail.</code>.</p><h3 id=web-routes-required>Web Routes (Required)</h3><p>To access Laravel Mail’s application resources (e.g. Campaigns, Subscribers, Templates, Messages etc) from the browser, you must register Laravel Mail’s web routes.</p><p>Inside a routes file, call the <code>LaravelCompany\Mail\Facades\LaravelMail::webRoutes()</code> method.</p><blockquote><p>These routes include features like subscriber management and campaign sending, and therefore should not be exposed without some means of authentication.</p></blockquote><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#9ca0b0;font-style:italic;--shiki-dark:#6E738D;--shiki-dark-font-style:italic>// routes/web.php</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Route</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>middleware</span><span style=color:#7c7f93;--shiki-dark:#939AB7>([</span><span style=color:#40a02b;--shiki-dark:#A6DA95>&#39;auth&#39;</span><span style=color:#7c7f93;--shiki-dark:#939AB7>])</span><span style=color:#179299;--shiki-dark:#8BD5CA>-&gt;</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>prefix</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#40a02b;--shiki-dark:#A6DA95>&#39;Laravel Mail&#39;</span><span style=color:#7c7f93;--shiki-dark:#939AB7>)</span><span style=color:#179299;--shiki-dark:#8BD5CA>-&gt;</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>group</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#8839ef;--shiki-dark:#C6A0F6>function</span><span style=color:#7c7f93;--shiki-dark:#939AB7> ()</span><span style=color:#7c7f93;--shiki-dark:#939AB7> {</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>    LaravelMail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>webRoutes</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>});</span></span>
<span class=line></span></code></pre><h3 id=public-web-routes-required>Public Web Routes (Required)</h3><p>To provide access to features such as unsubscribing from a mailing list and viewing subscriber emails in the browser, you must register Laravel Mail’s public web routes.</p><p>Inside a routes file, call the <code>LaravelCompany\Mail\Facades\LaravelMail::publicWebRoutes()</code> method.</p><blockquote><p>These routes include publically accessible features such as unsubscribing from a mailing list, and therefore should <em>not</em> be guarded by authentication.</p></blockquote><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#9ca0b0;font-style:italic;--shiki-dark:#6E738D;--shiki-dark-font-style:italic>// routes/web.php</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>LaravelMail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>publicWebRoutes</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line></span></code></pre><h3 id=public-api-routes-required>Public API Routes (Required)</h3><p>To handle campaign tracking (i.e. webhooks from your email service provider), you must register Laravel Mail’s public API routes.</p><p>Inside a routes file, call the <code>LaravelCompany\Mail\Facades\LaravelMail::publicApiRoutes()</code> method.</p><blockquote><p>These routes include webhooks that are needed to track campaigns inside Laravel Mail, and must be accessible to your email service.</p></blockquote><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#9ca0b0;font-style:italic;--shiki-dark:#6E738D;--shiki-dark-font-style:italic>// routes/api.php</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>LaravelMail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>publicApiRoutes</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line></span></code></pre><h3 id=set-up-laravel-mail-api-routes-optional>Set Up Laravel Mail API Routes (Optional)</h3><p>If you wish to provide access to Laravel Mail’s API, then you must register Laravel Mail’s API routes.</p><p>Inside a routes file, call the <code>LaravelCompany\Mail\Facades\LaravelMail::apiRoutes()</code> method.</p><blockquote><p>These routes include features like subscriber and campaign management, and should not be exposed to the internet without some means of authentication.</p></blockquote><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#9ca0b0;font-style:italic;--shiki-dark:#6E738D;--shiki-dark-font-style:italic>// routes/api.php</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Route</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>middleware</span><span style=color:#7c7f93;--shiki-dark:#939AB7>([</span><span style=color:#40a02b;--shiki-dark:#A6DA95>&#39;auth:api&#39;</span><span style=color:#7c7f93;--shiki-dark:#939AB7>])</span><span style=color:#179299;--shiki-dark:#8BD5CA>-&gt;</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>group</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#8839ef;--shiki-dark:#C6A0F6>function</span><span style=color:#7c7f93;--shiki-dark:#939AB7>()</span><span style=color:#7c7f93;--shiki-dark:#939AB7> {</span></span>
<span class=line><span style=color:#4c4f69;--shiki-dark:#CAD3F5>    Laravel </span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Mail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>apiRoutes</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>});</span></span>
<span class=line></span></code></pre><h2 id=set-up-sidebar-html-content-resolver-optional>Set Up Sidebar HTML Content Resolver (Optional)</h2><p>Optionally, you can provide content to the sidebar navigation in Laravel Mail. This allows you to inject new menu items that can link to resources you build yourself. This is helpful for providing access to functionality like user management inside Laravel Mail.</p><h3 id=registering-sidebar-html-resolver>Registering Sidebar HTML Resolver</h3><p>Inside the <code>boot</code> method of a service provider class, provide a closure to the <code>LaravelCompany\Mail\Facades\LaravelMail::setSidebarHtmlContentResolver()</code> method.</p><p>The return value of your closure <strong>must</strong> be a string value or null. You should ideally provide HTML, as it will be rendered directly into the view as provided.</p><p>As an example:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>    public</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> function</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic> boot</span><span style=color:#7c7f93;--shiki-dark:#939AB7>()</span><span style=color:#179299;--shiki-dark:#8BD5CA>:</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> void</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    {</span></span>
<span class=line><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>        LaravelMail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>setSidebarHtmlContentResolver</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#8839ef;--shiki-dark:#C6A0F6>function</span><span style=color:#7c7f93;--shiki-dark:#939AB7> ()</span><span style=color:#7c7f93;--shiki-dark:#939AB7> {</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>            return</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic> view</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#40a02b;--shiki-dark:#A6DA95>&#39;layouts.sidebar.manageUsersMenuItem&#39;</span><span style=color:#7c7f93;--shiki-dark:#939AB7>)</span><span style=color:#179299;--shiki-dark:#8BD5CA>-&gt;</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>render</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>        });</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    }</span></span>
<span class=line></span></code></pre><h2 id=set-up-header-html-content-resolver-optional>Set Up Header HTML Content Resolver (Optional)</h2><p>You can optionally provide content to the header in Laravel Mail. This allows you to inject resources that you build yourself. This is helpful for providing functionality like user profile management or workspace switchers inside Laravel Mail.</p><h3 id=registering-header-html-resolver>Registering Header HTML Resolver</h3><p>Inside the <code>boot</code> method of a service provider class, provide a closure to the <code>LaravelCompany\Mail\Facades\LaravelMail::setHeaderHtmlContentResolver()</code> method.</p><p>The return value of your closure <strong>must</strong> be a string value or null. You should ideally provide HTML, as it will be rendered directly into the view as provided.</p><p>As an example:</p><pre class="astro-code astro-code-themes catppuccin-latte catppuccin-macchiato" data-language=php style=background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5;overflow-x:auto tabindex=0><code><span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>    public</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> function</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic> boot</span><span style=color:#7c7f93;--shiki-dark:#939AB7>()</span><span style=color:#179299;--shiki-dark:#8BD5CA>:</span><span style=color:#8839ef;--shiki-dark:#C6A0F6> void</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    {</span></span>
<span class=line><span style=color:#4c4f69;--shiki-dark:#CAD3F5>        Laravel </span><span style=color:#df8e1d;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic>Mail</span><span style=color:#179299;--shiki-dark:#8BD5CA>::</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>setHeaderHtmlContentResolver</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#8839ef;--shiki-dark:#C6A0F6>function</span><span style=color:#7c7f93;--shiki-dark:#939AB7> ()</span><span style=color:#7c7f93;--shiki-dark:#939AB7> {</span></span>
<span class=line><span style=color:#8839ef;--shiki-dark:#C6A0F6>            return</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic> view</span><span style=color:#7c7f93;--shiki-dark:#939AB7>(</span><span style=color:#40a02b;--shiki-dark:#A6DA95>&#39;layouts.header.userManagementHeader&#39;</span><span style=color:#7c7f93;--shiki-dark:#939AB7>)</span><span style=color:#179299;--shiki-dark:#8BD5CA>-&gt;</span><span style=color:#1e66f5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic>render</span><span style=color:#7c7f93;--shiki-dark:#939AB7>();</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>        });</span></span>
<span class=line><span style=color:#7c7f93;--shiki-dark:#939AB7>    }</span></span>
<span class=line></span></code></pre><h2 id=further-examples>Further Examples</h2><p>To see an example of Laravel Mail used as a fully multi-tenant application, please see our own [host application](<a href=https://github.com/laravelcompany/app.laravelmail.com rel=nofollow target=_blank>https://github.com/laravelcompany/app.laravelmail.com</a> Mail), which takes advantage of all the integration features available in the Laravel Mail package.</p><p>In particular, see the <code>App\Providers\AppServiceProvider</code> class for registering resolvers, and see the <code>routes/web.php</code> and <code>routes/api.php</code> files for registering routes.</p></div><div class="flex bottom-8 duration-300 justify-center opacity-0 py-4 sticky transition-opacity"><div class=w-fit id=back-to-top onclick=scrollToTop()><button class="text-sm bg-secondary disabled:opacity-50 disabled:pointer-events-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring font-medium gap-2 h-9 hover:bg-secondary/80 inline-flex items-center justify-center rounded-md shadow-sm text-secondary-foreground transition-colors w-9 whitespace-nowrap"><svg height=24 width=24 xmlns=http://www.w3.org/2000/svg fill=none class="lucide lucide-chevron-up" stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 viewBox="0 0 24 24"><path d="m18 15-6-6-6 6"></path></svg></button></div></div><script>const backToTopButton=document.getElementById("back-to-top"),toggleVisibility=()=>{window.scrollY>window.innerHeight/2?(backToTopButton.classList.remove("opacity-0"),backToTopButton.classList.add("opacity-100")):(backToTopButton.classList.remove("opacity-100"),backToTopButton.classList.add("opacity-0"))},scrollToTop=()=>{window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",toggleVisibility)</script></div></div><div class="py-4 sticky hidden lg:w-1/5 max-h-static_sidemenu top-[69px] lg:flex px-6"><astro-island await-children="" client=only component-export=ScrollArea component-url=/_astro/scroll-area.CTuyje77.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:&quot;react&quot;} props="{&quot;className&quot;:[0,&quot;h-full w-full&quot;]}" renderer-url=/_astro/client.BKlK2Vbq.js ssr="" uid=Z2qmpBg><template data-astro-template><div class=relative><h2 class="italic border-none text-xl">On This Page</h2><ul class="list-none m-0"><li class=font-semibold><a href=#requirements class="w-full leading-none no-underline text-sm">Requirements</a></li><li class=font-semibold><a href=#installation class="w-full leading-none no-underline text-sm">Installation</a></li><li class=font-semibold><a href=#publish-assets class="w-full leading-none no-underline text-sm">Publish Assets</a></li><li class=font-semibold><a href=#resolvers--routes class="w-full leading-none no-underline text-sm">Resolvers &amp; Routes</a></li><li class=font-semibold><a href=#workspace-resolver-required class="w-full leading-none no-underline text-sm">Workspace Resolver (Required)</a></li><li class=text-muted-foreground><a href=#registering-the-workspace-resolver class="w-full leading-none no-underline text-sm">Registering the Workspace Resolver</a></li><li class=font-semibold><a href=#routes class="w-full leading-none no-underline text-sm">Routes</a></li><li class=text-muted-foreground><a href=#web-routes-required class="w-full leading-none no-underline text-sm">Web Routes (Required)</a></li><li class=text-muted-foreground><a href=#public-web-routes-required class="w-full leading-none no-underline text-sm">Public Web Routes (Required)</a></li><li class=text-muted-foreground><a href=#public-api-routes-required class="w-full leading-none no-underline text-sm">Public API Routes (Required)</a></li><li class=text-muted-foreground><a href=#set-up-laravel-mail-api-routes-optional class="w-full leading-none no-underline text-sm">Set Up Laravel Mail API Routes (Optional)</a></li><li class=font-semibold><a href=#set-up-sidebar-html-content-resolver-optional class="w-full leading-none no-underline text-sm">Set Up Sidebar HTML Content Resolver (Optional)</a></li><li class=text-muted-foreground><a href=#registering-sidebar-html-resolver class="w-full leading-none no-underline text-sm">Registering Sidebar HTML Resolver</a></li><li class=font-semibold><a href=#set-up-header-html-content-resolver-optional class="w-full leading-none no-underline text-sm">Set Up Header HTML Content Resolver (Optional)</a></li><li class=text-muted-foreground><a href=#registering-header-html-resolver class="w-full leading-none no-underline text-sm">Registering Header HTML Resolver</a></li><li class=font-semibold><a href=#further-examples class="w-full leading-none no-underline text-sm">Further Examples</a></li></ul></div></template><!--astro:end--></astro-island></div></main></body></html>